(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{223:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(6),c=a(14),r=a(1),o=a.n(r),m=a(3),i=a(2),d=a(118),u=a.n(d),p=a(220),f=a(18),E=a(9),b=a(12);t.default=Object(m.g)(e=>{const t=Object(n.useContext)(E.a),a=Object(n.useContext)(b.a),r=o.a.CancelToken.source(),{id:d}=Object(m.f)(),[h,w]=Object(n.useState)([]),[y,g]=Object(n.useState)(!0),N=new Date(h.createdDate),j=`${N.getDate()}-${N.getMonth()+1}-${N.getFullYear()}`;return Object(n.useEffect)(async()=>{try{const e=await o.a.get("/post/"+d,{cancelToken:r.token});w(e.data),g(!1)}catch(e){console.log(e.response.data)}return()=>{r.cancel()}},[d]),y?s.a.createElement(c.a,null):y||h?s.a.createElement(l.a,{title:h.title},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h2",null,h.title),s.a.createElement("span",{className:"pt-2"},s.a.createElement(i.b,{to:`/post/${h._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},s.a.createElement("i",{className:"fas fa-edit"})),s.a.createElement(p.a,{id:"edit",className:"custom-tooltip"})," ",s.a.createElement(i.b,{onClick:async function(){if(window.confirm("Do you really wanna delete the post??!!"))try{"Success"==(await o()({url:"/post/"+d,data:{token:t.user.token},method:"delete"})).data&&(a({type:"flashMessages",value:h.title+" was deleted"}),e.history.push("/profile/"+t.user.username))}catch(e){console.log(e)}},"data-tip":"Delete","data-for":"delete",className:"delete-post-button text-danger",to:"/profile/"+h.author.username},s.a.createElement("i",{className:"fas fa-trash"})),s.a.createElement(p.a,{id:"delete"}))),s.a.createElement("p",{className:"text-muted small mb-4"},s.a.createElement("a",{href:"#"},s.a.createElement("img",{className:"avatar-tiny",src:h.author.avatar})),"Posted by"," ",s.a.createElement(i.b,{to:"/profile/"+h.author.username},h.author.username)," ","on ",j),s.a.createElement("div",{className:"body-content"},s.a.createElement(u.a,{source:h.body}))):s.a.createElement(f.a,null)})}}]);
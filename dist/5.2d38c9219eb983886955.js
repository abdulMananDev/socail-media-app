(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{225:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t.n(s),r=t(12),n=t(9),l=t(13),o=t(1),i=t.n(o),m=t(17);a.default=()=>{const e=Object(s.useContext)(r.a);Object(s.useContext)(n.a);Object(s.useEffect)(()=>(document.addEventListener("keyup",o),()=>{document.removeEventListener("keyup",o)}),[]);const[a,t]=Object(l.a)({searchTerm:"",results:[],show:"neither",requestCount:0});function o(a){27===a.keyCode&&e({type:"closeSearch"})}return Object(s.useEffect)(()=>{const e=setTimeout(()=>{t(e=>{e.requestCount++})},500);return()=>{clearTimeout(e)}},[a.searchTerm]),Object(s.useEffect)(()=>{if(a.requestCount){const e=i.a.CancelToken.source();return async function(){try{const s=await i.a.post("/search",{searchTerm:a.searchTerm},{cancelToken:e.token});console.log(s.data),t(e=>{e.results=s.data})}catch(e){e.response}}(),()=>e.cancel()}},[a.requestCount]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"search-overlay-top shadow-sm"},c.a.createElement("div",{className:"container container--narrow"},c.a.createElement("label",{htmlFor:"live-search-field",className:"search-overlay-icon"},c.a.createElement("i",{className:"fas fa-search"})),c.a.createElement("input",{autoFocus:!0,type:"text",autoComplete:"off",id:"live-search-field",className:"live-search-field",placeholder:"What are you interested in?",onChange:e=>{const a=e.target.value;t(e=>{e.searchTerm=a})}}),c.a.createElement("span",{onClick:()=>e({type:"closeSearch"}),className:"close-live-search"},c.a.createElement("i",{className:"fas fa-times-circle"})))),c.a.createElement("div",{className:"search-overlay-bottom"},c.a.createElement("div",{className:"container container--narrow py-3"},c.a.createElement("div",{className:"live-search-results live-search-results--visible"},c.a.createElement("div",{className:"list-group shadow-sm"},c.a.createElement("div",{className:"list-group-item active"},c.a.createElement("strong",null,"Search Results")," ",a.results.length," items found"),a.results.map(a=>c.a.createElement(m.a,{post:a,onClick:()=>e({type:"closeSearch"})})))))))}}}]);